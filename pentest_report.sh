#!/bin/bash

# Report Template File
TEMPLATE_PATH="$HOME/Pentest_Reports/report_template.md"

# Create the report template if it doesn't exist
if [ ! -f "$TEMPLATE_PATH" ]; then
    echo "Creating report template..."
    cat <<EOT >> $TEMPLATE_PATH
# Penetration Test Report

## Client Information
- **Client Name**: 
- **Date**: 
- **Assessment Type**: 
- **Scope**: 

---

## Executive Summary
Provide a high-level summary of the findings.

---

## Vulnerabilities
### 1. Vulnerability Title
- **Severity**: 
- **Description**: 
- **Impact**: 
- **Recommendation**: 

### 2. Vulnerability Title
- **Severity**: 
- **Description**: 
- **Impact**: 
- **Recommendation**: 

---

## Tools and Techniques
List of tools and techniques used during the assessment.

---

## Appendices
- **Logs**:
- **Screenshots**:
EOT
    echo "Template created at $TEMPLATE_PATH."
fi

# Function to create a new report
create_report() {
    echo "Enter the client name:"
    read CLIENT_NAME
    REPORT_NAME="report_${CLIENT_NAME}_$(date +%Y%m%d).md"
    REPORT_PATH="$HOME/Pentest_Reports/reports/$REPORT_NAME"

    # Create a directory for reports if not exists
    mkdir -p "$HOME/Pentest_Reports/reports/"

    # Copy template into a new report
    cp "$TEMPLATE_PATH" "$REPORT_PATH"
    echo "New report created at $REPORT_PATH"

    # Open the report with a text editor (nano)
    nano "$REPORT_PATH"
}

# Function to add a note to an existing report
add_note() {
    echo "Enter the client name or report date (YYYYMMDD) to find the report:"
    read REPORT_KEYWORD
    REPORT_FILE=$(find "$HOME/Pentest_Reports/reports/" -name "*$REPORT_KEYWORD*.md")

    if [ -f "$REPORT_FILE" ]; then
        echo "Opening report $REPORT_FILE"
        nano "$REPORT_FILE"
    else
        echo "No report found with the keyword '$REPORT_KEYWORD'."
    fi
}

# Main menu
while true; do
    echo "Penetration Test Reporting Tool"
    echo "1. Create New Report"
    echo "2. Add Notes to Existing Report"
    echo "3. Exit"
    read -p "Select an option [1-3]: " option

    case $option in
        1)
            create_report
            ;;
        2)
            add_note
            ;;
        3)
            echo "Exiting..."
            break
            ;;
        *)
            echo "Invalid option. Please try again."
            ;;
    esac
done

Explanation of the Script:

    Template Creation: The script creates a basic report template (report_template.md) in the $HOME/Pentest_Reports/ directory. This template contains sections for client information, vulnerabilities, tools, and other details.

    Create a New Report: The script allows you to create a new report by copying the template to a new file named report_CLIENTNAME_DATE.md. You can then use a text editor (nano in this case) to edit the report.

    Add Notes to Existing Reports: The script also allows you to search for an existing report by the client name or date and add additional notes.

    Menu System: A simple menu is displayed that lets you create new reports, add notes, or exit the script.

How to Use:

    Save the Script: Save the script as pentest_report.sh in your Kali Linux home directory.

    Make the Script Executable: Run the following command to make the script executable:

    bash

chmod +x pentest_report.sh

Run the Script: Run the script by executing:

bash

./pentest_report.sh
